<div style="height: 52px"></div>


<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid"></div>
  <div class="navbar-header">

    <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#hypercheese-navbar-collapse-1">
      <span class="sr-only">
        Toggle Navigation
      </span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand">Hypercheese</a>
  </div>

  <div class="collapse navbar-collapse" id="hypercheese-navbar-collapse-1">
    <ul class="nav navbar-nav"></ul>

    {{#if selected}}
      <ul class="nav navbar-nav">
        <li>
          <p class="navbar-text"> Selected: {{selected.length}}</p>
        </li>

        <li>
          <form class="navbar-form navbar-left" {{action "clearSelected"}}>
            <a class="btn btn-default">Clear</a>
          </form>
        </li>

        {{#each selectedTags as |tagCount|}}
          {{tag-match tagCount=tagCount removeTag="removeTag"}}
        {{/each}}
      </ul>

      <form class="navbar-form navbar-left">
        {{#if oneSelected}}
          <a class="btn btn-default" {{action "comment"}}>Comment</a>
        {{/if}}

        <a class="btn btn-default" href={{downloadLink}}>Download</a>

        <a class="btn btn-default" href="javascript:void(0)" {{action "shareSelection"}}>Share</a>
      </form>

      <form class="navbar-form navbar-left" {{action "saveNewTags" on="submit"}} >
        <div class="form-group">
          {{input class="form-control" value=newTags placeholder="Add tags" type="text"}}
        </div>
      </form>

      <ul class="nav navbar-nav">
        {{#each tagMatches as |tag|}}
          <li>
            <p class="navbar-text">{{tag.label}}</p>
          </li>
        {{/each}}
      </ul>
    {{else}}
      <ul class="nav navbar-nav">
        <li>
          <a href="#/tags">Tags</a>
        </li>
      </ul>
      <form class="navbar-form navbar-left" role="Search">
        <div class="form-group">
          <input class="form-control" type="text" placeholder="Search" value={{q}} />
        </div>
      </form>
      <p class="navbar-text">
        Count: {{model.length}}
      </p>
    {{/if}}
  </div>
</nav>


<div style={{resultsStyle}} class={{resultsClass}}>
  <div class="viewport" style={{viewPortStyle}}>
    {{#each viewPortItems as |item|}}
      {{item-square-display item=item imageZoom="imageZoom" lineSelect="lineSelect" toggleSelection="toggleSelection" imageSelect="imageSelect" maxImageHeight=maxImageHeight maxImageWidth=maxImageWidth zoomed=zoomed}}
    {{/each}}
  </div>
</div>

{{#if zoomed}}
  {{outlet}}
{{/if}}
